
List packages in the venv:
Activate your venv and run:

pip freeze > venv_requirements.txt
List packages in the system-wide Python:
Deactivate the venv and run:

pip freeze > system_requirements.txt
Compare the two files:
You can use a diff tool or simply view both files to identify differences.

Install missing packages in the system-wide Python:

pip install -r venv_requirements.txt

Alignment with Venv:
If there are still discrepancies between your system-wide Python and the venv, you can generate a requirements file from the venv and apply it to the system-wide Python:

bash
pip freeze > requirements.txt
pip install -r requirements.txt

pip list


Stress Testing XPU Performance

import torch
import time

size = 10000  # Increase size

# CPU Test
cpu_tensor = torch.randn(size, size, device="cpu")
start = time.time()
cpu_result = cpu_tensor @ cpu_tensor
print("CPU Time:", time.time() - start)

# XPU Test
if torch.xpu.is_available():
    xpu_tensor = cpu_tensor.to("xpu")
    start = time.time()
    xpu_result = xpu_tensor @ xpu_tensor
    print("XPU Time:", time.time() - start)


-----------------
Results:

>>> import torch
>>> import time
>>> 
>>> size = 10000  # Increase size
>>> 
>>> # CPU Test
>>> cpu_tensor = torch.randn(size, size, device="cpu")
>>> start = time.time()
>>> cpu_result = cpu_tensor @ cpu_tensor
>>> print("CPU Time:", time.time() - start)
CPU Time: 18.95138144493103
>>> 
>>> # XPU Test
>>> if torch.xpu.is_available():
...     xpu_tensor = cpu_tensor.to("xpu")
...     start = time.time()
...     xpu_result = xpu_tensor @ xpu_tensor
...     print("XPU Time:", time.time() - start)
... 
XPU Time: 0.20033788681030273
>>> 


----------------------
find ~/ -type f -name "activate" 2>/dev/null




source /home/andy/stable-diffusion-webui-forge/venv/bin/activate
source /home/andy/stable-diffusion-reforge/venv/bin/activate
source /home/andy/ComfyUI/venv/bin/activate
source /home/andy/stable-diffusion-webui/Automatic1111_env/bin/activate
source /home/andy/Easy-Diffusion-Linux/easy-diffusion/installer_files/env/bin/activate

source /snap/openvino-ai-plugins-gimp/current/bin/activate

(install) andy@ak10pro:~/Documents$ pip freeze > openvino_gimp_requirements.txt
(install) andy@ak10pro:~/Documents$ source /snap/openvino-ai-plugins-gimp/current/bin/activate
(install) andy@ak10pro:~/Documents$ python cpuVsXpu.py 
Torch Version: 2.5.1+cxx11.abi
CPU Time: 0.034555912017822266
XPU Time: 0.11891007423400879
Speedup: 0.29x ðŸš€

---------------------------------------------



(install) andy@ak10pro:~/Documents$ find ~/ -type f -name "activate" 2>/dev/null

/home/andy/.local/share/uv/python/cpython-3.11.11-linux-x86_64-gnu/lib/python3.11/venv/scripts/common/activate
/home/andy/.pyenv/versions/3.9.13/envs/venv-stablediffusion/bin/activate
/home/andy/.pyenv/versions/3.9.13/lib/python3.9/venv/scripts/common/activate
/home/andy/.pyenv/shims/activate
/home/andy/.pyenv/plugins/pyenv-virtualenv/shims/activate

/home/andy/miniconda3/envs/easy_diffusion/lib/python3.10/venv/scripts/common/activate
/home/andy/miniconda3/envs/stable-diffusion-ui-installer/bin/activate
/home/andy/miniconda3/envs/stable-diffusion-ui-installer/lib/python3.12/venv/scripts/common/activate
/home/andy/miniconda3/envs/stable-diffusion-ui-installer/lib/python3.12/site-packages/conda/shell/bin/activate
/home/andy/miniconda3/bin/activate
/home/andy/miniconda3/lib/python3.12/venv/scripts/common/activate
/home/andy/miniconda3/lib/python3.12/site-packages/conda/shell/bin/activate
/home/andy/miniconda3/pkgs/python-3.10.16-he870216_1/lib/python3.10/venv/scripts/common/activate
/home/andy/miniconda3/pkgs/conda-25.1.1-py312h06a4308_0/bin/activate
/home/andy/miniconda3/pkgs/conda-25.1.1-py312h06a4308_0/lib/python3.12/site-packages/conda/shell/bin/activate
/home/andy/miniconda3/pkgs/python-3.12.9-h5148396_0/lib/python3.12/venv/scripts/common/activate

/home/andy/Easy-Diffusion-Linux/easy-diffusion/installer_files/mamba/pkgs/python-3.8.5-h1103e12_9_cpython/lib/python3.8/venv/scripts/common/activate
/home/andy/Easy-Diffusion-Linux/easy-diffusion/installer_files/mamba/pkgs/conda-23.9.0-py38h578d9bd_2/bin/activate
/home/andy/Easy-Diffusion-Linux/easy-diffusion/installer_files/mamba/pkgs/conda-23.9.0-py38h578d9bd_2/lib/python3.8/site-packages/conda/shell/bin/activate
/home/andy/Easy-Diffusion-Linux/easy-diffusion/installer_files/env/bin/Activate
/home/andy/Easy-Diffusion-Linux/easy-diffusion/installer_files/env/lib/python3.8/site-packages/conda/shell/bin/activate
/home/andy/.venv/bin/activate

pip freeze > openvino_gimp_requirements.txt
----------------------------------------------------------------------------------------------
/home/andy/Easy-Diffusion-Linux/easy-diffusion/installer_files/env/lib/python3.8/venv/scripts/common/activate
/home/andy/ComfyUI/venv/bin/activate
/home/andy/stable-diffusion-webui/Automatic1111_env/bin/activate
/home/andy/stable-diffusion-webui-forge/venv/bin/activate
/home/andy/stable-diffusion-reforge/venv/bin/activate
/snap/openvino-ai-plugins-gimp/current/bin/activate

/home/andy/openvino_env/bin/activate
/home/andy/llm-cpp/bin/activate

System pytorch ok : best-genai-openvino-pytorch-xpu-requirements.txt
openvino pytorch ok: openvino_requirements.txt
easy-diffusion_requirements.txt
comfyui_requirements.txt
Automatic1111_requirements.txt
forge_requirements.txt
reforge_requirements.txt
openvino_gimp_requirements.txt

ipexllm_requirements.txt

------------------------------------------------------------------------------------------------------
deactivate
rm -rf ~/test-env
python3 -m venv ~/test-env
source ~/test-env/bin/activate
pip install --upgrade pip
source /opt/intel/oneapi/setvars.sh
export SYCL_CACHE_PERSISTENT=1
------------------------------------------------------------------------------------------------------
STEP 1:
======
pip install --pre --upgrade ipex-llm[xpu] --extra-index-url https://pytorch-extension.intel.com/release-whl/stable/xpu/us/
    Installing collected packages: tcmlib, sentencepiece, py-cpuinfo, mpmath, ipex-llm, bigdl-core-xe-batch-21, bigdl-core-xe-addons-21, bigdl-core-xe-21, urllib3, umf, typing-extensions, tqdm, tabulate, sympy, safetensors, regex, pyyaml, psutil, protobuf, pillow, packaging, numpy, networkx, MarkupSafe, idna, fsspec, filelock, charset-normalizer, certifi, annotated-types, typing-inspection, requests, pydantic-core, jinja2, intel-cmplr-lib-ur, 
    torch, pydantic, intel-openmp, huggingface-hub, torchvision, tokenizers, intel-extension-for-pytorch, accelerate, transformers


------------------------------------------------------------------------------------------------------
STEP 2:
=======

https://docs.openvino.ai/2025/get-started/install-openvino/install-openvino-pip.html

python -m pip install --pre -U openvino openvino-tokenizers --extra-index-url https://storage.openvinotoolkit.org/simple/wheels/nightly
    Installing collected packages: openvino-telemetry, packaging, numpy, openvino, openvino-tokenizers


Examples:
https://github.com/openvinotoolkit/openvino_notebooks/tree/latest/notebooks/stable-diffusion-v2

......................................................................................................
STEP 3: How to install intel pytorch:
=======
https://pytorch-extension.intel.com/installation?platform=gpu&version=v2.6.10%2Bxpu&os=linux%2Fwsl2&package=pip


python -m pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/xpu
    Installing collected packages: tcmlib, mpmath, intel-pti, intel-cmplr-lic-rt, intel-cmplr-lib-rt, umf, typing-extensions, sympy, pillow, packaging, numpy, networkx, MarkupSafe, fsspec, filelock, pytorch-triton-xpu, jinja2, intel-cmplr-lib-ur, intel-sycl-rt, torch, torchvision, torchaudio


python -m pip install intel-extension-for-pytorch==2.6.10+xpu oneccl_bind_pt==2.6.0+xpu --extra-index-url https://pytorch-extension.intel.com/release-whl/stable/xpu/us/
    Installing collected packages: tcmlib, oneccl_bind_pt, intel-cmplr-lic-rt, intel-cmplr-lib-rt, impi-rt, umf, typing-extensions, tbb, ruamel.yaml.clib, psutil, packaging, numpy, impi-devel, annotated-types, ruamel.yaml, pydantic-core, intel-opencl-rt, intel-cmplr-lib-ur, pydantic, intel-sycl-rt, intel-openmp, oneccl, mkl, dpcpp-cpp-rt, onemkl-sycl-vm, onemkl-sycl-stats, onemkl-sycl-rng, onemkl-sycl-dft, onemkl-sycl-datafitting, onemkl-sycl-blas, oneccl-devel, onemkl-sycl-sparse, onemkl-sycl-lapack, mkl-dpcpp, intel-extension-for-pytorch


(test-env) andy@ak10pro:~$ pip check
No broken requirements found.
(test-env) andy@ak10pro:~$ python -m pip install intel-extension-for-pytorch==2.6.10+xpu oneccl_bind_pt==2.6.0+xpu --extra-index-url https://pytorch-extension.intel.com/release-whl/stable/xpu/us/



pip install --upgrade torchvision
pip install --upgrade torchaudio

pip check
pip list......................................................................................................