
List packages in the venv:
Activate your venv and run:

pip freeze > venv_requirements.txt
List packages in the system-wide Python:
Deactivate the venv and run:

pip freeze > system_requirements.txt
Compare the two files:
You can use a diff tool or simply view both files to identify differences.

Install missing packages in the system-wide Python:

pip install -r venv_requirements.txt

Alignment with Venv:
If there are still discrepancies between your system-wide Python and the venv, you can generate a requirements file from the venv and apply it to the system-wide Python:

bash
pip freeze > requirements.txt
pip install -r requirements.txt

pip list


Stress Testing XPU Performance

import torch
import time

size = 10000  # Increase size

# CPU Test
cpu_tensor = torch.randn(size, size, device="cpu")
start = time.time()
cpu_result = cpu_tensor @ cpu_tensor
print("CPU Time:", time.time() - start)

# XPU Test
if torch.xpu.is_available():
    xpu_tensor = cpu_tensor.to("xpu")
    start = time.time()
    xpu_result = xpu_tensor @ xpu_tensor
    print("XPU Time:", time.time() - start)


-----------------
Results:

>>> import torch
>>> import time
>>> 
>>> size = 10000  # Increase size
>>> 
>>> # CPU Test
>>> cpu_tensor = torch.randn(size, size, device="cpu")
>>> start = time.time()
>>> cpu_result = cpu_tensor @ cpu_tensor
>>> print("CPU Time:", time.time() - start)
CPU Time: 18.95138144493103
>>> 
>>> # XPU Test
>>> if torch.xpu.is_available():
...     xpu_tensor = cpu_tensor.to("xpu")
...     start = time.time()
...     xpu_result = xpu_tensor @ xpu_tensor
...     print("XPU Time:", time.time() - start)
... 
XPU Time: 0.20033788681030273
>>> 


----------------------
find ~/ -type f -name "activate" 2>/dev/null




source /home/andy/stable-diffusion-webui-forge/venv/bin/activate
source /home/andy/stable-diffusion-reforge/venv/bin/activate
source /home/andy/ComfyUI/venv/bin/activate
source /home/andy/stable-diffusion-webui/Automatic1111_env/bin/activate
source /home/andy/Easy-Diffusion-Linux/easy-diffusion/installer_files/env/bin/activate

source /snap/openvino-ai-plugins-gimp/current/bin/activate

(install) andy@ak10pro:~/Documents$ pip freeze > openvino_gimp_requirements.txt
(install) andy@ak10pro:~/Documents$ source /snap/openvino-ai-plugins-gimp/current/bin/activate
(install) andy@ak10pro:~/Documents$ python cpuVsXpu.py 
Torch Version: 2.5.1+cxx11.abi
CPU Time: 0.034555912017822266
XPU Time: 0.11891007423400879
Speedup: 0.29x ðŸš€

---------------------------------------------



(install) andy@ak10pro:~/Documents$ find ~/ -type f -name "activate" 2>/dev/null

/home/andy/.local/share/uv/python/cpython-3.11.11-linux-x86_64-gnu/lib/python3.11/venv/scripts/common/activate
/home/andy/.pyenv/versions/3.9.13/envs/venv-stablediffusion/bin/activate
/home/andy/.pyenv/versions/3.9.13/lib/python3.9/venv/scripts/common/activate
/home/andy/.pyenv/shims/activate
/home/andy/.pyenv/plugins/pyenv-virtualenv/shims/activate

/home/andy/miniconda3/envs/easy_diffusion/lib/python3.10/venv/scripts/common/activate
/home/andy/miniconda3/envs/stable-diffusion-ui-installer/bin/activate
/home/andy/miniconda3/envs/stable-diffusion-ui-installer/lib/python3.12/venv/scripts/common/activate
/home/andy/miniconda3/envs/stable-diffusion-ui-installer/lib/python3.12/site-packages/conda/shell/bin/activate
/home/andy/miniconda3/bin/activate
/home/andy/miniconda3/lib/python3.12/venv/scripts/common/activate
/home/andy/miniconda3/lib/python3.12/site-packages/conda/shell/bin/activate
/home/andy/miniconda3/pkgs/python-3.10.16-he870216_1/lib/python3.10/venv/scripts/common/activate
/home/andy/miniconda3/pkgs/conda-25.1.1-py312h06a4308_0/bin/activate
/home/andy/miniconda3/pkgs/conda-25.1.1-py312h06a4308_0/lib/python3.12/site-packages/conda/shell/bin/activate
/home/andy/miniconda3/pkgs/python-3.12.9-h5148396_0/lib/python3.12/venv/scripts/common/activate

/home/andy/Easy-Diffusion-Linux/easy-diffusion/installer_files/mamba/pkgs/python-3.8.5-h1103e12_9_cpython/lib/python3.8/venv/scripts/common/activate
/home/andy/Easy-Diffusion-Linux/easy-diffusion/installer_files/mamba/pkgs/conda-23.9.0-py38h578d9bd_2/bin/activate
/home/andy/Easy-Diffusion-Linux/easy-diffusion/installer_files/mamba/pkgs/conda-23.9.0-py38h578d9bd_2/lib/python3.8/site-packages/conda/shell/bin/activate
/home/andy/Easy-Diffusion-Linux/easy-diffusion/installer_files/env/bin/Activate
/home/andy/Easy-Diffusion-Linux/easy-diffusion/installer_files/env/lib/python3.8/site-packages/conda/shell/bin/activate
/home/andy/.venv/bin/activate

pip freeze > openvino_gimp_requirements.txt
----------------------------------------------------------------------------------------------
/home/andy/Easy-Diffusion-Linux/easy-diffusion/installer_files/env/lib/python3.8/venv/scripts/common/activate
/home/andy/ComfyUI/venv/bin/activate
/home/andy/stable-diffusion-webui/Automatic1111_env/bin/activate
/home/andy/stable-diffusion-webui-forge/venv/bin/activate
/home/andy/stable-diffusion-reforge/venv/bin/activate
/snap/openvino-ai-plugins-gimp/current/bin/activate

/home/andy/openvino_env/bin/activate
/home/andy/llm-cpp/bin/activate

System pytorch ok : best-genai-openvino-pytorch-xpu-requirements.txt
openvino pytorch ok: openvino_requirements.txt
easy-diffusion_requirements.txt
comfyui_requirements.txt
Automatic1111_requirements.txt
forge_requirements.txt
reforge_requirements.txt
openvino_gimp_requirements.txt

ipexllm_requirements.txt
