
List packages in the venv:
Activate your venv and run:

pip freeze > venv_requirements.txt
List packages in the system-wide Python:
Deactivate the venv and run:

pip freeze > system_requirements.txt
Compare the two files:
You can use a diff tool or simply view both files to identify differences.

Install missing packages in the system-wide Python:

pip install -r venv_requirements.txt

Alignment with Venv:
If there are still discrepancies between your system-wide Python and the venv, you can generate a requirements file from the venv and apply it to the system-wide Python:

bash
pip freeze > requirements.txt
pip install -r requirements.txt


Stress Testing XPU Performance

import torch
import time

size = 10000  # Increase size

# CPU Test
cpu_tensor = torch.randn(size, size, device="cpu")
start = time.time()
cpu_result = cpu_tensor @ cpu_tensor
print("CPU Time:", time.time() - start)

# XPU Test
if torch.xpu.is_available():
    xpu_tensor = cpu_tensor.to("xpu")
    start = time.time()
    xpu_result = xpu_tensor @ xpu_tensor
    print("XPU Time:", time.time() - start)


-----------------
Results:

>>> import torch
>>> import time
>>> 
>>> size = 10000  # Increase size
>>> 
>>> # CPU Test
>>> cpu_tensor = torch.randn(size, size, device="cpu")
>>> start = time.time()
>>> cpu_result = cpu_tensor @ cpu_tensor
>>> print("CPU Time:", time.time() - start)
CPU Time: 18.95138144493103
>>> 
>>> # XPU Test
>>> if torch.xpu.is_available():
...     xpu_tensor = cpu_tensor.to("xpu")
...     start = time.time()
...     xpu_result = xpu_tensor @ xpu_tensor
...     print("XPU Time:", time.time() - start)
... 
XPU Time: 0.20033788681030273
>>> 


----------------------
find ~/ -type f -name "activate" 2>/dev/null




source /home/andy/stable-diffusion-webui-forge/venv/bin/activate
source /home/andy/stable-diffusion-reforge/venv/bin/activate
source /home/andy/ComfyUI/venv/bin/activate
source /home/andy/stable-diffusion-webui/Automatic1111_env/bin/activate
source /home/andy/Easy-Diffusion-Linux/easy-diffusion/installer_files/env/bin/activate


